/**
 * Safe YouTube Viewer for Kids - Main Stylesheet
 * Design system with CSS custom properties
 */

/* ========================================
   CSS Reset / Normalize
   ======================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family-primary);
  font-size: var(--font-size-body);
  line-height: 1.5;
  color: var(--color-charcoal-text);
  background-color: var(--color-soft-white);
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: none;
}

/* ========================================
   CSS Custom Properties - Design System
   ======================================== */

:root {
  /* Primary Colors */
  --color-primary-yellow: #ffdb4d;
  --color-soft-white: #fefefe;
  --color-charcoal-text: #2d3436;

  /* Rainbow Supporting Colors */
  --color-coral: #ff6b6b;
  --color-sky-blue: #00b4d8;
  --color-soft-purple: #a8dadc;
  --color-mint-green: #06d6a0;
  --color-orange: #ff9500;
  --color-lavender: #b8b8d1;

  /* Functional Colors */
  --color-success: #06d6a0;
  --color-warning: #ffb830;
  --color-error: #e63946;
  --color-neutral-gray: #95a5a6;
  --color-light-gray: #f1f3f5;

  /* Spacing Scale (8px base) */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 40px;
  --space-3xl: 48px;

  /* Typography Scale */
  --font-size-h1: 48px;
  --font-size-h2: 36px;
  --font-size-h3: 32px;
  --font-size-large-body: 24px;
  --font-size-body: 18px;
  --font-size-small-body: 16px;
  --font-size-caption: 14px;

  --font-family-primary:
    'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
    'Helvetica Neue', Arial, sans-serif;

  /* Shadow Scale */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.18);
  --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.2);

  /* Border Radius Scale */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* Responsive Breakpoints */
  --breakpoint-tablet: 768px;
  --breakpoint-desktop: 1024px;
}

/* ========================================
   Placeholder Component Classes
   ======================================== */

/* Video Card Component */
.video-card {
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
  transition:
    transform 200ms ease-out,
    box-shadow 200ms ease-out;
  overflow: hidden;
  background-color: var(--color-soft-white);
}

.video-card:hover {
  transform: scale(1.05);
  box-shadow: var(--shadow-lg);
}

.video-card:active {
  transform: scale(0.98);
  box-shadow: var(--shadow-sm);
}

/* Action Button Component */
.action-button {
  padding: var(--space-md) var(--space-xl);
  border-radius: var(--radius-lg);
  font-size: var(--font-size-large-body);
  font-weight: 600;
  background-color: var(--color-primary-yellow);
  color: var(--color-charcoal-text);
  box-shadow: var(--shadow-md);
  transition:
    transform 200ms ease-out,
    box-shadow 200ms ease-out;
  display: inline-block;
  text-align: center;
  min-width: 200px;
  min-height: 80px;
}

.action-button:hover {
  transform: scale(1.05);
  box-shadow: var(--shadow-lg);
}

.action-button:active {
  transform: scale(0.97);
  box-shadow: var(--shadow-sm);
}

/* Warning Overlay Component */
.warning-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

/* ========================================
   Utility Classes
   ======================================== */

/* Accessibility - Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Focus Indicators */
:focus-visible {
  outline: 3px solid var(--color-sky-blue);
  outline-offset: 2px;
  transition: outline 150ms ease-in-out;
}

:focus:not(:focus-visible) {
  outline: none;
}

/* ========================================
   Typography Utility Classes
   ======================================== */

.h1 {
  font-size: var(--font-size-h1);
  font-weight: 700;
  line-height: 1.2;
}

.h2 {
  font-size: var(--font-size-h2);
  font-weight: 700;
  line-height: 1.3;
}

.h3 {
  font-size: var(--font-size-h3);
  font-weight: 700;
  line-height: 1.3;
}

.large-body {
  font-size: var(--font-size-large-body);
  font-weight: 600;
  line-height: 1.4;
}

.body-text {
  font-size: var(--font-size-body);
  font-weight: 400;
  line-height: 1.5;
}

.small-body {
  font-size: var(--font-size-small-body);
  font-weight: 400;
  line-height: 1.5;
}

.caption {
  font-size: var(--font-size-caption);
  font-weight: 400;
  line-height: 1.4;
}

/* ========================================
   Spacing Utility Classes
   8px base scale: xs(4px), sm(8px), md(16px), lg(24px), xl(32px), 2xl(40px), 3xl(48px)
   ======================================== */

/* Margin Top */
.mt-xs {
  margin-top: var(--space-xs);
}
.mt-sm {
  margin-top: var(--space-sm);
}
.mt-md {
  margin-top: var(--space-md);
}
.mt-lg {
  margin-top: var(--space-lg);
}
.mt-xl {
  margin-top: var(--space-xl);
}
.mt-2xl {
  margin-top: var(--space-2xl);
}
.mt-3xl {
  margin-top: var(--space-3xl);
}

/* Margin Right */
.mr-xs {
  margin-right: var(--space-xs);
}
.mr-sm {
  margin-right: var(--space-sm);
}
.mr-md {
  margin-right: var(--space-md);
}
.mr-lg {
  margin-right: var(--space-lg);
}
.mr-xl {
  margin-right: var(--space-xl);
}
.mr-2xl {
  margin-right: var(--space-2xl);
}
.mr-3xl {
  margin-right: var(--space-3xl);
}

/* Margin Bottom */
.mb-xs {
  margin-bottom: var(--space-xs);
}
.mb-sm {
  margin-bottom: var(--space-sm);
}
.mb-md {
  margin-bottom: var(--space-md);
}
.mb-lg {
  margin-bottom: var(--space-lg);
}
.mb-xl {
  margin-bottom: var(--space-xl);
}
.mb-2xl {
  margin-bottom: var(--space-2xl);
}
.mb-3xl {
  margin-bottom: var(--space-3xl);
}

/* Margin Left */
.ml-xs {
  margin-left: var(--space-xs);
}
.ml-sm {
  margin-left: var(--space-sm);
}
.ml-md {
  margin-left: var(--space-md);
}
.ml-lg {
  margin-left: var(--space-lg);
}
.ml-xl {
  margin-left: var(--space-xl);
}
.ml-2xl {
  margin-left: var(--space-2xl);
}
.ml-3xl {
  margin-left: var(--space-3xl);
}

/* Margin Horizontal (left + right) */
.mx-xs {
  margin-left: var(--space-xs);
  margin-right: var(--space-xs);
}
.mx-sm {
  margin-left: var(--space-sm);
  margin-right: var(--space-sm);
}
.mx-md {
  margin-left: var(--space-md);
  margin-right: var(--space-md);
}
.mx-lg {
  margin-left: var(--space-lg);
  margin-right: var(--space-lg);
}
.mx-xl {
  margin-left: var(--space-xl);
  margin-right: var(--space-xl);
}
.mx-2xl {
  margin-left: var(--space-2xl);
  margin-right: var(--space-2xl);
}
.mx-3xl {
  margin-left: var(--space-3xl);
  margin-right: var(--space-3xl);
}

/* Margin Vertical (top + bottom) */
.my-xs {
  margin-top: var(--space-xs);
  margin-bottom: var(--space-xs);
}
.my-sm {
  margin-top: var(--space-sm);
  margin-bottom: var(--space-sm);
}
.my-md {
  margin-top: var(--space-md);
  margin-bottom: var(--space-md);
}
.my-lg {
  margin-top: var(--space-lg);
  margin-bottom: var(--space-lg);
}
.my-xl {
  margin-top: var(--space-xl);
  margin-bottom: var(--space-xl);
}
.my-2xl {
  margin-top: var(--space-2xl);
  margin-bottom: var(--space-2xl);
}
.my-3xl {
  margin-top: var(--space-3xl);
  margin-bottom: var(--space-3xl);
}

/* Margin All Sides */
.m-xs {
  margin: var(--space-xs);
}
.m-sm {
  margin: var(--space-sm);
}
.m-md {
  margin: var(--space-md);
}
.m-lg {
  margin: var(--space-lg);
}
.m-xl {
  margin: var(--space-xl);
}
.m-2xl {
  margin: var(--space-2xl);
}
.m-3xl {
  margin: var(--space-3xl);
}

/* Padding Top */
.pt-xs {
  padding-top: var(--space-xs);
}
.pt-sm {
  padding-top: var(--space-sm);
}
.pt-md {
  padding-top: var(--space-md);
}
.pt-lg {
  padding-top: var(--space-lg);
}
.pt-xl {
  padding-top: var(--space-xl);
}
.pt-2xl {
  padding-top: var(--space-2xl);
}
.pt-3xl {
  padding-top: var(--space-3xl);
}

/* Padding Right */
.pr-xs {
  padding-right: var(--space-xs);
}
.pr-sm {
  padding-right: var(--space-sm);
}
.pr-md {
  padding-right: var(--space-md);
}
.pr-lg {
  padding-right: var(--space-lg);
}
.pr-xl {
  padding-right: var(--space-xl);
}
.pr-2xl {
  padding-right: var(--space-2xl);
}
.pr-3xl {
  padding-right: var(--space-3xl);
}

/* Padding Bottom */
.pb-xs {
  padding-bottom: var(--space-xs);
}
.pb-sm {
  padding-bottom: var(--space-sm);
}
.pb-md {
  padding-bottom: var(--space-md);
}
.pb-lg {
  padding-bottom: var(--space-lg);
}
.pb-xl {
  padding-bottom: var(--space-xl);
}
.pb-2xl {
  padding-bottom: var(--space-2xl);
}
.pb-3xl {
  padding-bottom: var(--space-3xl);
}

/* Padding Left */
.pl-xs {
  padding-left: var(--space-xs);
}
.pl-sm {
  padding-left: var(--space-sm);
}
.pl-md {
  padding-left: var(--space-md);
}
.pl-lg {
  padding-left: var(--space-lg);
}
.pl-xl {
  padding-left: var(--space-xl);
}
.pl-2xl {
  padding-left: var(--space-2xl);
}
.pl-3xl {
  padding-left: var(--space-3xl);
}

/* Padding Horizontal (left + right) */
.px-xs {
  padding-left: var(--space-xs);
  padding-right: var(--space-xs);
}
.px-sm {
  padding-left: var(--space-sm);
  padding-right: var(--space-sm);
}
.px-md {
  padding-left: var(--space-md);
  padding-right: var(--space-md);
}
.px-lg {
  padding-left: var(--space-lg);
  padding-right: var(--space-lg);
}
.px-xl {
  padding-left: var(--space-xl);
  padding-right: var(--space-xl);
}
.px-2xl {
  padding-left: var(--space-2xl);
  padding-right: var(--space-2xl);
}
.px-3xl {
  padding-left: var(--space-3xl);
  padding-right: var(--space-3xl);
}

/* Padding Vertical (top + bottom) */
.py-xs {
  padding-top: var(--space-xs);
  padding-bottom: var(--space-xs);
}
.py-sm {
  padding-top: var(--space-sm);
  padding-bottom: var(--space-sm);
}
.py-md {
  padding-top: var(--space-md);
  padding-bottom: var(--space-md);
}
.py-lg {
  padding-top: var(--space-lg);
  padding-bottom: var(--space-lg);
}
.py-xl {
  padding-top: var(--space-xl);
  padding-bottom: var(--space-xl);
}
.py-2xl {
  padding-top: var(--space-2xl);
  padding-bottom: var(--space-2xl);
}
.py-3xl {
  padding-top: var(--space-3xl);
  padding-bottom: var(--space-3xl);
}

/* Padding All Sides */
.p-xs {
  padding: var(--space-xs);
}
.p-sm {
  padding: var(--space-sm);
}
.p-md {
  padding: var(--space-md);
}
.p-lg {
  padding: var(--space-lg);
}
.p-xl {
  padding: var(--space-xl);
}
.p-2xl {
  padding: var(--space-2xl);
}
.p-3xl {
  padding: var(--space-3xl);
}

/* ========================================
   Responsive Design
   ======================================== */

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .video-card:hover {
    transform: none;
    box-shadow: var(--shadow-md);
  }

  .video-card:active {
    transform: scale(0.98);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .video-card:active,
  .action-button:active {
    transform: scale(0.98);
    transition: transform 50ms;
  }
}
/* ========================================
   Channel Management Styles (Story 1.5)
   ======================================== */

/* Admin Container */
.admin-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-xl);
  background-color: var(--color-soft-white);
  min-height: 100vh;
}

.admin-header {
  margin-bottom: var(--space-2xl);
  text-align: center;
}

.admin-title {
  font-size: var(--font-size-h1);
  font-weight: 700;
  color: var(--color-charcoal-text);
  margin-bottom: var(--space-sm);
}

.admin-subtitle {
  font-size: var(--font-size-body);
  color: var(--color-neutral-gray);
}

/* Section Titles */
.section-title {
  font-size: var(--font-size-h3);
  font-weight: 600;
  color: var(--color-charcoal-text);
  margin-bottom: var(--space-lg);
}

/* Add Channel Form */
.add-channel-section {
  background: white;
  padding: var(--space-xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  margin-bottom: var(--space-2xl);
}

.add-channel-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.form-label {
  font-size: var(--font-size-small-body);
  font-weight: 500;
  color: var(--color-charcoal-text);
}

.form-input {
  padding: 12px var(--space-md);
  border: 2px solid var(--color-light-gray);
  border-radius: var(--radius-md);
  font-size: var(--font-size-body);
  transition:
    border-color 0.2s,
    box-shadow 0.2s;
  font-family: inherit;
}

.form-input:focus {
  outline: none;
  border-color: var(--color-primary-yellow);
  box-shadow: 0 0 0 3px rgba(255, 219, 77, 0.1);
}

.form-input::placeholder {
  color: var(--color-neutral-gray);
}

.form-checkbox {
  width: 20px;
  height: 20px;
  cursor: pointer;
  margin-right: var(--space-sm);
}

.form-group-checkbox {
  flex-direction: row;
  align-items: center;
}

.form-group-checkbox .form-label {
  margin: 0;
  display: flex;
  align-items: center;
  cursor: pointer;
}

.form-actions {
  display: flex;
  gap: var(--space-md);
  margin-top: var(--space-lg);
}

.help-text {
  font-size: var(--font-size-small-body);
  color: var(--color-neutral-gray);
  font-style: italic;
}

.error-text {
  font-size: var(--font-size-small-body);
  color: var(--color-error);
  display: none;
}

/* Buttons */
.btn {
  padding: 12px var(--space-lg);
  border-radius: var(--radius-md);
  font-size: var(--font-size-body);
  font-weight: 500;
  font-family: inherit;
  cursor: pointer;
  border: none;
  transition:
    background-color 0.2s,
    transform 0.1s,
    box-shadow 0.2s;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-primary {
  background-color: var(--color-primary-yellow);
  color: var(--color-charcoal-text);
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover:not(:disabled) {
  background-color: #ffd11a;
  box-shadow: var(--shadow-md);
}

.btn-primary:active:not(:disabled) {
  transform: scale(0.98);
}

.btn-secondary {
  background-color: var(--color-sky-blue);
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-secondary:hover:not(:disabled) {
  background-color: #0096b4;
  box-shadow: var(--shadow-md);
}

.btn-danger {
  background-color: var(--color-error);
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-danger:hover:not(:disabled) {
  background-color: #d62839;
  box-shadow: var(--shadow-md);
}

.btn-small {
  padding: 8px var(--space-md);
  font-size: var(--font-size-small-body);
}

/* Pulse Button Animation (for partial fetch retry hint) */
@keyframes pulse {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(0, 180, 216, 0.7);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(0, 180, 216, 0);
  }
}

.pulse-button {
  animation: pulse 2s ease-in-out infinite;
}

/* Message Container */
.message-container {
  padding: var(--space-md);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-lg);
  font-size: var(--font-size-body);
  border-left: 4px solid;
}

.message-success {
  background-color: #e7f9f3;
  color: #05a57d;
  border-color: var(--color-success);
}

.message-error {
  background-color: #ffeaea;
  color: #c72c3b;
  border-color: var(--color-error);
}

/* Channels Table */
.channels-section {
  background: white;
  padding: var(--space-xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

.channels-table-container {
  overflow-x: auto;
}

.channels-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: auto;
}

.table-header {
  text-align: left;
  padding: var(--space-md);
  background-color: var(--color-light-gray);
  color: var(--color-charcoal-text);
  font-weight: 600;
  font-size: var(--font-size-small-body);
  border-bottom: 2px solid var(--color-neutral-gray);
}

.table-cell {
  padding: var(--space-md);
  border-bottom: 1px solid var(--color-light-gray);
  font-size: var(--font-size-body);
}

.channel-row {
  transition: background-color 0.2s;
}

.channel-row:hover {
  background-color: #f8f9fa;
}

.thumbnail-cell {
  width: 60px;
}

.channel-thumbnail {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-md);
  background: linear-gradient(
    135deg,
    var(--color-sky-blue),
    var(--color-soft-purple)
  );
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 700;
  font-size: 20px;
}

.actions-cell {
  display: flex;
  gap: var(--space-sm);
  align-items: center;
}

.loading-cell {
  text-align: center;
  padding: var(--space-2xl);
  color: var(--color-neutral-gray);
  font-size: var(--font-size-body);
}

/* Empty State */
.empty-state {
  text-align: center;
  padding: var(--space-3xl);
  color: var(--color-neutral-gray);
}

.empty-state-text {
  font-size: var(--font-size-large-body);
  font-weight: 600;
  margin-bottom: var(--space-sm);
}

.empty-state-hint {
  font-size: var(--font-size-body);
}

/* Confirmation Dialog */
.confirm-dialog-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
}

.confirm-dialog {
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  max-width: 500px;
  width: 90%;
  overflow: hidden;
}

.confirm-dialog-header {
  padding: var(--space-lg);
  border-bottom: 1px solid var(--color-light-gray);
}

.confirm-dialog-title {
  font-size: var(--font-size-h3);
  font-weight: 600;
  color: var(--color-charcoal-text);
  margin: 0;
}

.confirm-dialog-body {
  padding: var(--space-xl);
}

.confirm-dialog-message {
  font-size: var(--font-size-body);
  color: var(--color-charcoal-text);
  margin-bottom: var(--space-md);
}

.confirm-dialog-details {
  font-size: var(--font-size-body);
  color: var(--color-error);
  font-weight: 600;
}

.confirm-dialog-actions {
  padding: var(--space-lg);
  border-top: 1px solid var(--color-light-gray);
  display: flex;
  gap: var(--space-md);
  justify-content: flex-end;
}

/* Loading Overlay */
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.9);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  backdrop-filter: blur(2px);
}

.loading-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--color-light-gray);
  border-top-color: var(--color-primary-yellow);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-text {
  margin-top: var(--space-lg);
  font-size: var(--font-size-large-body);
  font-weight: 600;
  color: var(--color-charcoal-text);
}

/* Responsive Design - Mobile */
@media (max-width: 768px) {
  .admin-container {
    padding: var(--space-md);
  }

  .admin-title {
    font-size: var(--font-size-h2);
  }

  .add-channel-section,
  .channels-section {
    padding: var(--space-md);
  }

  .channels-table {
    font-size: var(--font-size-small-body);
  }

  .table-header,
  .table-cell {
    padding: var(--space-sm);
  }

  /* Stack table on very small screens */
  @media (max-width: 480px) {
    .channels-table thead {
      display: none;
    }

    .channels-table,
    .channels-table tbody,
    .channels-table tr,
    .channels-table td {
      display: block;
      width: 100%;
    }

    .channel-row {
      margin-bottom: var(--space-lg);
      border: 1px solid var(--color-light-gray);
      border-radius: var(--radius-md);
      padding: var(--space-md);
    }

    .table-cell {
      border-bottom: none;
      padding: var(--space-sm) 0;
      display: flex;
      justify-content: space-between;
    }

    .table-cell::before {
      content: attr(data-label);
      font-weight: 600;
      margin-right: var(--space-md);
    }

    .actions-cell {
      flex-direction: column;
      align-items: stretch;
    }

    .actions-cell .btn {
      width: 100%;
    }
  }
}

/* ========================================
   Child Interface Styles (Story 2.1)
   ======================================== */

/* Child Container */
.child-container {
  position: relative;
  min-height: 100vh;
  background-color: var(--color-soft-white);
  padding: var(--space-xl);
}

/* Mascot in Corner */
.mascot-container {
  position: fixed;
  top: var(--space-lg);
  right: var(--space-lg);
  z-index: 100;
  pointer-events: none;
}

.mascot {
  width: 80px;
  height: 80px;
  object-fit: contain;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1));
}

/* Grid Main Area */
.grid-main {
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--space-lg) 0;
}

/* Video Grid Layout */
.video-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-xl);
  padding: var(--space-md);
  margin-bottom: var(--space-2xl);
}

/* Video Card - Enhanced from placeholder */
.video-card {
  position: relative;
  display: flex;
  flex-direction: column;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  transition:
    transform 200ms ease-out,
    box-shadow 200ms ease-out;
  overflow: hidden;
  background-color: white;
  cursor: pointer;
  border: 3px solid transparent;
  min-height: 240px;
}

.video-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary-yellow);
}

.video-card:active {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
}

.video-card:focus-visible {
  outline: 3px solid var(--color-primary-yellow);
  outline-offset: 4px;
}

/* Video Card Thumbnail */
.video-card__thumbnail {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  overflow: hidden;
  background: linear-gradient(
    135deg,
    var(--color-soft-purple),
    var(--color-sky-blue)
  );
  min-height: 150px;
}

.video-card__thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Video Card Title */
.video-card__title {
  font-size: var(--font-size-body);
  font-weight: 600;
  color: var(--color-charcoal-text);
  padding: var(--space-md) var(--space-md) var(--space-sm);
  margin: 0;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* Video Card Channel */
.video-card__channel {
  font-size: var(--font-size-small-body);
  color: var(--color-neutral-gray);
  padding: 0 var(--space-md) var(--space-md);
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Loading State */
.grid-loading {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-3xl);
}

.loading-message {
  font-size: var(--font-size-large-body);
  font-weight: 600;
  color: var(--color-charcoal-text);
  margin-top: var(--space-md);
}

/* Error State */
.grid-error {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-3xl);
}

.error-content {
  text-align: center;
  max-width: 500px;
}

.error-mascot {
  width: 120px;
  height: 120px;
  object-fit: contain;
  margin-bottom: var(--space-lg);
}

.error-message {
  font-size: var(--font-size-large-body);
  font-weight: 600;
  color: var(--color-charcoal-text);
  margin-bottom: var(--space-lg);
}

.btn-retry {
  padding: var(--space-md) var(--space-xl);
  background-color: var(--color-primary-yellow);
  color: var(--color-charcoal-text);
  border: none;
  border-radius: var(--radius-lg);
  font-size: var(--font-size-body);
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  box-shadow: var(--shadow-md);
  transition:
    transform 200ms ease-out,
    box-shadow 200ms ease-out;
}

.btn-retry:hover {
  transform: scale(1.05);
  box-shadow: var(--shadow-lg);
}

.btn-retry:active {
  transform: scale(0.98);
  box-shadow: var(--shadow-sm);
}

/* Empty State */
.grid-empty {
  grid-column: 1 / -1;
  text-align: center;
  padding: var(--space-3xl);
  font-size: var(--font-size-large-body);
  color: var(--color-neutral-gray);
  background-color: var(--color-light-gray);
  border-radius: var(--radius-lg);
}

/* Limit Indicator (for future Story 2.3) */
.limit-indicator {
  position: fixed;
  bottom: var(--space-lg);
  left: 50%;
  transform: translateX(-50%);
  z-index: 50;
}

.limit-content {
  background: linear-gradient(
    135deg,
    var(--color-primary-yellow),
    var(--color-orange)
  );
  padding: var(--space-md) var(--space-xl);
  border-radius: var(--radius-full);
  box-shadow: var(--shadow-lg);
}

.limit-text {
  font-size: var(--font-size-body);
  font-weight: 600;
  color: var(--color-charcoal-text);
}

/* ========================================
   Child Interface Responsive Design
   ======================================== */

/* Tablet (1024px and below) */
@media (max-width: 1024px) {
  .video-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
  }

  .mascot-container {
    top: var(--space-md);
    right: var(--space-md);
  }

  .mascot {
    width: 64px;
    height: 64px;
  }
}

/* Mobile (768px and below) */
@media (max-width: 768px) {
  .child-container {
    padding: var(--space-md);
  }

  .video-grid {
    grid-template-columns: 1fr;
    gap: var(--space-md);
    padding: var(--space-sm);
  }

  .video-card__title {
    font-size: var(--font-size-small-body);
  }

  .video-card__channel {
    font-size: var(--font-size-caption);
  }

  .mascot {
    width: 56px;
    height: 56px;
  }

  .limit-indicator {
    bottom: var(--space-md);
  }

  .limit-content {
    padding: var(--space-sm) var(--space-lg);
  }

  .limit-text {
    font-size: var(--font-size-small-body);
  }
}

/* Touch device optimizations for child interface */
@media (hover: none) and (pointer: coarse) {
  .video-card:hover {
    transform: none;
    box-shadow: var(--shadow-md);
    border-color: transparent;
  }

  .video-card:active {
    transform: scale(0.95);
    border-color: var(--color-primary-yellow);
  }

  .btn-retry:hover {
    transform: none;
    box-shadow: var(--shadow-md);
  }

  .btn-retry:active {
    transform: scale(0.95);
  }
}

/* ========================================
   Help Components (Story 3.X)
   ======================================== */

/* Help Text - Inline with inputs */
.help-text {
  display: block;
  font-size: 0.875rem;
  color: var(--color-neutral-gray);
  margin-top: 0.25rem;
  line-height: 1.4;
}

.help-text::before {
  content: 'ℹ️ ';
  margin-right: 0.25rem;
}

/* Tooltip Container */
.tooltip-container {
  position: relative;
  display: inline-block;
  margin-left: 0.25rem;
}

/* Tooltip Trigger Button */
.tooltip-trigger {
  background: transparent;
  border: none;
  cursor: help;
  padding: 0.25rem;
  font-size: 1rem;
  color: var(--color-sky-blue);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  transition: color 0.2s ease;
}

.tooltip-trigger:hover {
  color: var(--color-primary-yellow);
}

.tooltip-trigger:focus {
  outline: 2px solid var(--color-sky-blue);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Tooltip Content */
.tooltip-content {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: white;
  border: 1px solid var(--color-neutral-gray);
  padding: 0.75rem;
  max-width: 300px;
  width: max-content;
  min-width: 200px;
  box-shadow: var(--shadow-md);
  z-index: 1000;
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--color-charcoal-text);
  text-align: left;
}

/* Tooltip Arrow */
.tooltip-content::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid white;
}

/* Tooltip positioning fallback - if not enough space above */
@media (max-width: 768px) {
  .tooltip-content {
    left: auto;
    right: 0;
    transform: none;
    max-width: calc(100vw - 2rem);
  }

  .tooltip-content::after {
    left: auto;
    right: 1rem;
    transform: none;
  }
}

/* FAQ Accordion Section */
.faq-section {
  margin-top: var(--space-2xl);
  margin-bottom: var(--space-2xl);
}

.faq-item {
  margin-bottom: var(--space-sm);
  border: 1px solid var(--color-light-gray);
  border-radius: var(--radius-md);
  overflow: hidden;
}

/* FAQ Question Button */
.faq-question {
  width: 100%;
  text-align: left;
  background: white;
  border: none;
  padding: var(--space-md) var(--space-lg);
  cursor: pointer;
  font-size: var(--font-size-body);
  font-weight: 600;
  color: var(--color-charcoal-text);
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: background-color 0.2s ease;
  font-family: inherit;
}

.faq-question::after {
  content: '▼';
  font-size: 0.75rem;
  color: var(--color-neutral-gray);
  transition: transform 0.2s ease;
}

.faq-question[aria-expanded='true']::after {
  transform: rotate(180deg);
}

.faq-question:hover {
  background: var(--color-light-gray);
}

.faq-question:focus {
  outline: 2px solid var(--color-sky-blue);
  outline-offset: -2px;
}

.faq-question[aria-expanded='true'] {
  background: var(--color-light-gray);
  border-bottom: 1px solid var(--color-neutral-gray);
}

/* FAQ Answer */
.faq-answer {
  padding: var(--space-md) var(--space-lg);
  background: white;
  font-size: var(--font-size-body);
  line-height: 1.6;
  color: var(--color-charcoal-text);
}

.faq-answer[hidden] {
  display: none;
}

.faq-answer p {
  margin: 0;
}

/* Version Display in Footer */
.version-number {
  font-size: var(--font-size-caption);
  color: var(--color-neutral-gray);
  margin-top: var(--space-sm);
}

/* Secondary Help Link (Documentation Link) */
.help-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  background: var(--color-light-gray);
  color: var(--color-charcoal-text);
  text-decoration: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-small-body);
  font-weight: 500;
  transition:
    background-color 0.2s ease,
    box-shadow 0.2s ease;
}

.help-link:hover {
  background: var(--color-neutral-gray);
  color: white;
  box-shadow: var(--shadow-sm);
}

.help-link:focus {
  outline: 2px solid var(--color-sky-blue);
  outline-offset: 2px;
}

/* =============================================================================
   VIDEO PLAYER (Story 2.2)
   ============================================================================= */

/* Player container - fullscreen positioning */
.player-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9999;
  background-color: var(--color-bg-primary);
  display: none; /* Hidden by default, shown via JS */
}

/* YouTube IFrame (created by API) */
#youtube-player iframe {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  border: none;
}

/* Back to Videos button */
.player__back-button {
  position: fixed;
  bottom: var(--space-2xl);
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;

  /* Child-friendly sizing */
  min-width: 200px;
  height: 64px;
  padding: var(--space-md) var(--space-2xl);

  /* Styling */
  background-color: var(--color-primary-yellow);
  color: var(--color-text-primary);
  font-size: var(--font-size-large-body);
  font-weight: var(--font-weight-bold);
  border: 4px solid var(--color-border-dark);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);

  /* Interaction */
  cursor: pointer;
  transition: all 0.2s ease;
}

.player__back-button:hover {
  background-color: var(--color-accent-orange);
  transform: translateX(-50%) scale(1.05);
  box-shadow: var(--shadow-2xl);
}

.player__back-button:active {
  transform: translateX(-50%) scale(0.95);
}

.player__back-button:focus {
  outline: 4px solid var(--color-primary-blue);
  outline-offset: 4px;
}

/* Error overlay */
.player__error-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 10001;

  background-color: rgba(0, 0, 0, 0.85);

  display: flex;
  align-items: center;
  justify-content: center;
}

.error-overlay__content {
  text-align: center;
  max-width: 600px;
  padding: var(--space-2xl);
}

.error-overlay__mascot {
  width: 200px;
  height: 200px;
  margin-bottom: var(--space-xl);
  animation: bounce 1s ease-in-out infinite;
}

@keyframes bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.error-overlay__message {
  font-size: var(--font-size-xxl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-inverse);
  margin-bottom: var(--space-xl);
  line-height: 1.4;
}

.error-overlay__button {
  min-width: 200px;
  height: 64px;
  padding: var(--space-md) var(--space-2xl);

  background-color: var(--color-primary-yellow);
  color: var(--color-text-primary);
  font-size: var(--font-size-large-body);
  font-weight: var(--font-weight-bold);
  border: 4px solid var(--color-border-dark);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);

  cursor: pointer;
  transition: all 0.2s ease;
}

.error-overlay__button:hover {
  background-color: var(--color-accent-orange);
  transform: scale(1.05);
  box-shadow: var(--shadow-2xl);
}

.error-overlay__button:active {
  transform: scale(0.95);
}

.error-overlay__button:focus {
  outline: 4px solid var(--color-primary-blue);
  outline-offset: 4px;
}

/* Tablet breakpoint - larger touch targets */
@media (max-width: 1024px) {
  .player__back-button {
    height: 80px;
    font-size: var(--font-size-xl);
    padding: var(--space-lg) var(--space-2xl);
  }

  .error-overlay__mascot {
    width: 160px;
    height: 160px;
  }

  .error-overlay__message {
    font-size: var(--font-size-xl);
  }

  .error-overlay__button {
    height: 80px;
    font-size: var(--font-size-xl);
  }
}

/* Mobile breakpoint - full width buttons */
@media (max-width: 768px) {
  .player__back-button {
    bottom: var(--space-xl);
    min-width: calc(100vw - 2 * var(--space-xl));
  }

  .error-overlay__content {
    padding: var(--space-xl);
  }

  .error-overlay__button {
    min-width: calc(100vw - 4 * var(--space-xl));
  }
}

/* =============================================================================
   DAILY LIMIT STATUS (Story 4.1, Task 5)
   ============================================================================= */

/* Limit Status Section */
.limit-status-section {
  background: white;
  padding: var(--space-xl);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  margin-bottom: var(--space-xl);
}

/* Limit Status Container */
.limit-status {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-lg);
  margin-top: var(--space-md);
}

/* Loading State */
.limit-status__loading {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-xl);
  gap: var(--space-md);
  color: var(--color-neutral-gray);
}

/* Limit Status Card */
.limit-status__card {
  background: var(--color-light-gray);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  border-left: 4px solid var(--color-neutral-gray);
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

.limit-status__card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

/* Card Label */
.limit-status__label {
  font-size: var(--font-size-small-body);
  font-weight: 500;
  color: var(--color-neutral-gray);
  margin-bottom: var(--space-xs);
}

/* Card Value */
.limit-status__value {
  font-size: var(--font-size-h2);
  font-weight: 700;
  color: var(--color-charcoal-text);
  line-height: 1;
}

/* Unit Text (minutes, etc) */
.limit-status__unit {
  font-size: var(--font-size-body);
  font-weight: 400;
  color: var(--color-neutral-gray);
}

/* State Badge Container */
.limit-status__badge-container {
  grid-column: 1 / -1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  padding: var(--space-lg);
  background: var(--color-light-gray);
  border-radius: var(--radius-md);
  margin-top: var(--space-md);
}

/* State Badge */
.limit-status__badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-lg);
  border-radius: var(--radius-full);
  font-size: var(--font-size-body);
  font-weight: 600;
  transition: transform 0.2s ease;
}

/* Badge States - Color Indicators (WCAG AA contrast 4.5:1) */
.limit-status__badge--normal {
  background-color: #e7f9f3;
  color: #05a57d;
  border: 2px solid var(--color-success);
}

.limit-status__badge--winddown {
  background-color: #fff3cd;
  color: #856404;
  border: 2px solid var(--color-warning);
}

.limit-status__badge--grace {
  background-color: #ffe5b4;
  color: #cc6600;
  border: 2px solid var(--color-orange);
}

.limit-status__badge--locked {
  background-color: #ffeaea;
  color: #c72c3b;
  border: 2px solid var(--color-error);
}

/* Badge Icon */
.limit-status__badge-icon {
  font-size: 1.2em;
  line-height: 1;
}

/* Reset Time Display */
.limit-status__reset-time {
  font-size: var(--font-size-small-body);
  color: var(--color-neutral-gray);
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

/* Reset Button */
.limit-status__reset-button {
  padding: var(--space-sm) var(--space-lg);
  background-color: var(--color-sky-blue);
  color: white;
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--font-size-body);
  font-weight: 500;
  font-family: inherit;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
  transition:
    background-color 0.2s,
    transform 0.1s,
    box-shadow 0.2s;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
}

.limit-status__reset-button:hover:not(:disabled) {
  background-color: #0096b4;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.limit-status__reset-button:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

.limit-status__reset-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.limit-status__reset-button[aria-busy='true'] {
  position: relative;
  color: transparent;
}

.limit-status__reset-button[aria-busy='true']::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid white;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

/* Error State */
.limit-status__error {
  grid-column: 1 / -1;
  padding: var(--space-lg);
  background-color: #ffeaea;
  border: 1px solid var(--color-error);
  border-radius: var(--radius-md);
  color: #c72c3b;
  font-size: var(--font-size-body);
  text-align: center;
}

/* Responsive Design - Mobile */
@media (max-width: 768px) {
  .limit-status {
    grid-template-columns: 1fr;
  }

  .limit-status__badge-container {
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-md);
  }

  .limit-status__reset-button {
    width: 100%;
  }

  .limit-status__value {
    font-size: var(--font-size-h3);
  }
}

/* ========================================
   Story 4.2: Warning Overlay Styles
   ======================================== */

/* Warning Overlay Container */
.warning-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(45, 52, 54, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.warning-overlay--active {
  opacity: 1;
  pointer-events: auto;
}

.warning-overlay--dismissing {
  opacity: 0;
}

/* Warning Content */
.warning-overlay__content {
  background: linear-gradient(
    135deg,
    var(--color-primary-yellow) 0%,
    var(--color-orange) 100%
  );
  border-radius: var(--radius-xl);
  padding: var(--space-3xl);
  box-shadow: var(--shadow-xl);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-lg);
  max-width: 600px;
  width: 90%;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateY(-50px) scale(0.9);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

/* Mascot */
.warning-overlay__mascot {
  font-size: 120px;
  line-height: 1;
  animation: bounce 0.6s ease-in-out;
}

@keyframes bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
}

/* Text Content */
.warning-overlay__text {
  text-align: center;
}

.warning-overlay__title {
  font-size: var(--font-size-h2);
  font-weight: 700;
  color: var(--color-charcoal-text);
  margin-bottom: var(--space-sm);
}

.warning-overlay__message {
  font-size: var(--font-size-large-body);
  color: var(--color-charcoal-text);
  line-height: 1.4;
}

/* Warning Type Variations */
.warning--10min .warning-overlay__content {
  background: linear-gradient(
    135deg,
    var(--color-mint-green) 0%,
    var(--color-sky-blue) 100%
  );
}

.warning--5min .warning-overlay__content {
  background: linear-gradient(
    135deg,
    var(--color-primary-yellow) 0%,
    var(--color-orange) 100%
  );
}

.warning--2min .warning-overlay__content {
  background: linear-gradient(
    135deg,
    var(--color-coral) 0%,
    var(--color-error) 100%
  );
}

.warning--2min .warning-overlay__title,
.warning--2min .warning-overlay__message {
  color: white;
}

/* Responsive - Mobile */
@media (max-width: 768px) {
  .warning-overlay__content {
    padding: var(--space-2xl);
  }

  .warning-overlay__mascot {
    font-size: 80px;
  }

  .warning-overlay__title {
    font-size: var(--font-size-h3);
  }

  .warning-overlay__message {
    font-size: var(--font-size-body);
  }
}

/* ========================================
   Story 4.2: Wind-Down Mode Styles
   ======================================== */

/* Wind-down mode for video grid */
.video-grid--winddown {
  opacity: 0.9;
}

/* Wind-down mode for video cards */
.video-card--winddown {
  opacity: 0.85;
  filter: brightness(0.95);
  transition:
    opacity 0.3s ease,
    filter 0.3s ease;
}

.video-card--winddown:hover,
.video-card--winddown:focus-within {
  opacity: 1;
  filter: brightness(1);
}

/* ========================================
   Story 4.3: Grace & Goodbye Screen Styles
   ======================================== */

/* Grace/Goodbye Screen Container */
.grace-screen,
.goodbye-screen {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-3xl);
  background: linear-gradient(
    135deg,
    var(--color-soft-purple) 0%,
    var(--color-sky-blue) 100%
  );
  text-align: center;
}

/* Main Content Area */
.grace-screen__content,
.goodbye-screen__content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2xl);
  max-width: 800px;
  width: 100%;
  animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mascot Image Styles */
.mascot-image {
  width: 300px;
  height: 450px;
  object-fit: contain;
  filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.15));
}

/* Mascot Variants */
.mascot-image--happy {
  animation: mascotPulse 2s ease-in-out infinite;
}

.mascot-image--wave {
  animation: mascotWave 1.5s ease-in-out infinite;
  transform-origin: 70% 30%;
}

.mascot-image--goodbye {
  animation: mascotWave 1.5s ease-in-out infinite;
  transform-origin: 70% 30%;
}

.mascot-image--curious {
  animation: mascotTilt 2s ease-in-out infinite;
}

.mascot-image--shrug {
  animation: mascotBounce 1.5s ease-in-out infinite;
}

/* Mascot Animations */
@keyframes mascotPulse {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes mascotWave {
  0%,
  100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-15deg);
  }
  75% {
    transform: rotate(15deg);
  }
}

@keyframes mascotTilt {
  0%,
  100% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(-10deg);
  }
}

@keyframes mascotBounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

/* Message Text */
.grace-screen__message,
.goodbye-screen__message {
  font-size: var(--font-size-h1);
  font-weight: 700;
  color: white;
  text-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  line-height: 1.2;
  margin-bottom: var(--space-md);
}

/* Button Container */
.grace-screen__buttons {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
  width: 100%;
  max-width: 500px;
  margin-top: var(--space-xl);
}

/* Grace Choice Buttons */
.grace-button {
  min-height: 80px;
  padding: var(--space-xl) var(--space-2xl);
  border: none;
  border-radius: var(--radius-xl);
  font-size: var(--font-size-h3);
  font-weight: 700;
  font-family: inherit;
  cursor: pointer;
  box-shadow: var(--shadow-xl);
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
}

.grace-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.2));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.grace-button:hover::before {
  opacity: 1;
}

/* Grace Accept Button (Ja, én til!) */
.grace-button--accept {
  background: linear-gradient(
    135deg,
    var(--color-primary-yellow) 0%,
    var(--color-orange) 100%
  );
  color: var(--color-charcoal-text);
}

.grace-button--accept:hover {
  transform: scale(1.05);
  box-shadow: 0 12px 32px rgba(255, 155, 0, 0.4);
}

.grace-button--accept:active {
  transform: scale(0.98);
}

/* Grace Decline Button (Nei, ha det!) */
.grace-button--decline {
  background: linear-gradient(
    135deg,
    var(--color-soft-purple) 0%,
    var(--color-lavender) 100%
  );
  color: var(--color-charcoal-text);
}

.grace-button--decline:hover {
  transform: scale(1.05);
  box-shadow: 0 12px 32px rgba(168, 218, 220, 0.4);
}

.grace-button--decline:active {
  transform: scale(0.98);
}

/* Countdown Display */
.countdown {
  font-size: var(--font-size-h3);
  font-weight: 600;
  color: white;
  padding: var(--space-lg) var(--space-2xl);
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-md);
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  margin-top: var(--space-xl);
}

.countdown__icon {
  font-size: 1.2em;
  line-height: 1;
}

.countdown__time {
  font-variant-numeric: tabular-nums;
  letter-spacing: 0.05em;
}

/* Grace Video Grid (hidden initially, shown when grace accepted) */
.grace-screen__video-grid {
  display: none;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-lg);
  width: 100%;
  max-width: 1200px;
  margin-top: var(--space-2xl);
  padding: var(--space-xl);
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(10px);
}

.grace-screen__video-grid--visible {
  display: grid;
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Grace Video Cards (smaller than normal grid) */
.grace-screen__video-grid .video-card {
  min-height: 180px;
}

.grace-screen__video-grid .video-card__thumbnail {
  min-height: 100px;
}

.grace-screen__video-grid .video-card__title {
  font-size: var(--font-size-small-body);
  -webkit-line-clamp: 1;
}

.grace-screen__video-grid .video-card__channel {
  font-size: var(--font-size-caption);
}

/* Grace Error Display (Story 4.3 UX-001) */
.grace-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-md);
  margin-top: var(--space-xl);
  padding: var(--space-lg);
  background: rgba(255, 255, 255, 0.95);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  animation: slideInDown 0.3s ease-out;
}

.grace-error__mascot {
  width: 120px;
  height: 120px;
  object-fit: contain;
}

.grace-error__message {
  font-size: var(--font-size-body);
  color: var(--color-charcoal-text);
  text-align: center;
  max-width: 400px;
  line-height: 1.6;
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ========================================
   Grace/Goodbye Screen Responsive Design
   ======================================== */

/* Tablet (1024px and below) */
@media (max-width: 1024px) {
  .grace-screen,
  .goodbye-screen {
    padding: var(--space-2xl);
  }

  .mascot-image {
    width: 240px;
    height: 360px;
  }

  .grace-screen__message,
  .goodbye-screen__message {
    font-size: var(--font-size-h2);
  }

  .grace-button {
    font-size: var(--font-size-large-body);
    min-height: 70px;
  }

  .countdown {
    font-size: var(--font-size-large-body);
  }

  .grace-screen__video-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Mobile (768px and below) */
@media (max-width: 768px) {
  .grace-screen,
  .goodbye-screen {
    padding: var(--space-xl);
  }

  .grace-screen__content,
  .goodbye-screen__content {
    gap: var(--space-xl);
  }

  .mascot-image {
    width: 200px;
    height: 300px;
  }

  .grace-screen__message,
  .goodbye-screen__message {
    font-size: var(--font-size-h3);
  }

  .grace-screen__buttons {
    max-width: 100%;
    gap: var(--space-md);
  }

  .grace-button {
    font-size: var(--font-size-body);
    min-height: 64px;
    padding: var(--space-lg) var(--space-xl);
  }

  .countdown {
    font-size: var(--font-size-body);
    padding: var(--space-md) var(--space-lg);
  }

  .grace-screen__video-grid {
    grid-template-columns: 1fr;
    gap: var(--space-md);
    padding: var(--space-md);
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .grace-button:hover {
    transform: none;
  }

  .grace-button:active {
    transform: scale(0.95);
  }

  .grace-button::before {
    display: none;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .mascot-image--happy,
  .mascot-image--wave,
  .mascot-image--goodbye,
  .mascot-image--curious,
  .mascot-image--shrug {
    animation: none;
  }

  .grace-screen__content,
  .goodbye-screen__content {
    animation: none;
  }

  .grace-screen__video-grid--visible {
    animation: none;
  }
}

/* ========================================
   Accessibility - Reduced Motion
   Story 4.3 A11Y-001
   ======================================== */

/**
 * Disable all animations and transitions for users who prefer reduced motion.
 * This improves accessibility for users with motion sensitivity or vestibular disorders.
 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Disable specific mascot animations */
  .mascot--wave,
  .mascot--celebrate,
  .mascot--bounce,
  .mascot--float {
    animation: none !important;
    transform: none !important;
  }

  /* Disable warning overlay animations */
  .warning-overlay {
    animation: none !important;
  }

  /* Disable grace error slideInDown animation */
  .grace-error {
    animation: none !important;
  }

  /* Disable grace grid fadeIn animation */
  .grace-screen__video-grid--visible {
    animation: none !important;
  }

  /* Disable video card hover effects */
  .video-card:hover {
    transform: none !important;
  }
}
